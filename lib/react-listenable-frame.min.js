var ReactListenableFrame=function(e){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=n(e),r=function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e}).apply(this,arguments)};var s=function(){function e(){var e=this;this.onMessage=function(n){for(var t=0;t<e.listenersByFrames.length;t+=1){var r=e.listenersByFrames[t],s=r[0],i=r[1];if(n.source===s.contentWindow){i(n);break}}},this.listenersByFrames=[],window.addEventListener("message",this.onMessage)}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.subscribe=function(e,n){var t=this.listenersByFrames.findIndex((function(n){return n[0]===e}));-1===t?this.listenersByFrames.push([e,n]):this.listenersByFrames[t][1]=n},e.prototype.unsubscribe=function(e){this.listenersByFrames=this.listenersByFrames.filter((function(n){return n[0]===e}))},e.instance=null,e}(),i=function(n){var i=n.onMessage,a=n.senderRef,c=n.children,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(t[r[s]]=e[r[s]])}return t}(n,["onMessage","senderRef","children"]),u=e.useRef(null),f=e.useCallback((function(e){u.current=e,a&&(a.current=function(e,n,t){u.current.contentWindow&&u.current.contentWindow.postMessage(e,n,t)})}),[]);return e.useEffect((function(){var e;if(i){var n=u.current;s.getInstance().subscribe(n,i),e=function(){return s.getInstance().unsubscribe(n)}}return e}),[i]),t.default.createElement("iframe",r({ref:f},o),c)};return i.displayName="ReactListenableFrame",i}(React);
//# sourceMappingURL=react-listenable-frame.min.js.map
