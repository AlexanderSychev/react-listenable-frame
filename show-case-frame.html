<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
    </head>
    <body>
        <script type="text/javascript">
            function pong() {
                window.parent.postMessage(
                    'pong',
                    window.location.protocol + '//' + window.location.host
                );
            }
            function onMessage(event) {
                if (event.data = 'ping') {
                    console.log('ping');
                    setTimeout(pong, 500);
                }
            }
            function onLoad() {
                window.addEventListener('message', onMessage);
            }
            window.addEventListener('load', onLoad);
        </script>
    </body>
</html>